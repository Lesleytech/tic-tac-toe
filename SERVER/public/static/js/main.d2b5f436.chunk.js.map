{"version":3,"sources":["components/Board.module.css","components/Header.module.css","components/Container.module.css","screens/HomeScreen.module.css","screens/PlayScreen.module.css","components/ChooseOpponent.module.css","context/GameContext.js","context/UserContext.js","context/SocketContext.js","components/Square.js","components/Board.js","context/HomeContext.js","components/ChooseMode.js","components/ChooseOpponent.js","components/ChooseUsername.js","components/Header.js","context/MessagesContext.js","components/Message.js","components/Messages.js","components/Container.js","components/Feedback.js","components/Exit.js","screens/HomeScreen.js","screens/PlayScreen.js","utils/helper.js","App.js","serviceWorker.js","index.js","components/Message.module.css","components/Square.module.css","components/ChooseMode.module.css","components/ChooseUsername.module.css","components/Feedback.module.css","components/Messages.module.css","components/Exit.module.css"],"names":["module","exports","GameContext","createContext","GameProvider","children","useState","Array","fill","squares","setSquares","isX","setIsX","winner","setWinner","multiplayer","setMultiplayer","nextPlayer","setNextPlayer","Provider","value","UserContext","UserProvider","user","setUser","room","setRoom","player","setPlayer","SocketContext","SocketProvider","socket","setSocket","Square","id","useContext","_squares","_isX","_multiplayer","_player","className","styles","square","onClick","newSquares","emit","style","cursor","pointerEvents","svg","width","height","cx","cy","r","stroke","strokeWidth","x1","y1","x2","y2","Board","board","map","val","index","key","HomeContext","HomeProvider","component","setComponent","ChooseMode","container","to","button","aria-hidden","ChooseOpponent","opponents","setOpponents","useEffect","fetchOpponents","setInterval","fetch","then","response","json","data","catch","err","console","log","clearInterval","opponents_container","username","opponent","handleClick","ChooseUsername","_user","_room","error","setError","redirect","setRedirect","onSubmit","e","preventDefault","length","test","randomstring","generate","form_group","type","onChange","target","placeholder","border","Header","header","MessagesContext","MessagesProvider","messages","setMessages","Message","text","sender","self","message_container_sender","message_container_receiver","message","marginRight","time","moment","format","Messages","typing","on","Container","Feedback","Exit","HomeScreen","_winner","_nextPlayer","notify","Howl","src","PlayScreen","exit","setExit","setText","setTyping","_socket","io","connect","play","disconnect","winningMoves","i","a","b","c","indexOf","getWinner","nullSquares","forEach","push","randomSquare","Math","floor","random","winningCounter","filter","opponentCounter","setTimeout","document","getElementById","click","computer","play_container","playground","playground_sm","borderBottom","messaging","form","onBlur","App","exact","path","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","URL","process","href","origin","addEventListener","headers","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d2b5f436.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"Board_board__3Lsgr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1k8xJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__mgx7B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomeScreen_container__36rsz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PlayScreen_container__3TXxw\",\"play_container\":\"PlayScreen_play_container__1lRx6\",\"playground\":\"PlayScreen_playground__2Vq_A\",\"messaging\":\"PlayScreen_messaging__36UOm\",\"form\":\"PlayScreen_form__3vPr8\",\"playground_sm\":\"PlayScreen_playground_sm__-Zw-l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ChooseOpponent_container__2AT7S\",\"opponents_container\":\"ChooseOpponent_opponents_container__1jHq9\",\"opponents\":\"ChooseOpponent_opponents__3qbCq\",\"opponent\":\"ChooseOpponent_opponent__cLHCB\",\"button\":\"ChooseOpponent_button__361tS\"};","import React, { createContext, useState } from 'react';\r\n\r\nexport const GameContext = createContext();\r\n\r\nexport const GameProvider = ({ children }) => {\r\n  const [squares, setSquares] = useState(Array(9).fill(null));\r\n  const [isX, setIsX] = useState(false);\r\n  const [winner, setWinner] = useState('');\r\n  const [multiplayer, setMultiplayer] = useState(false);\r\n  const [nextPlayer, setNextPlayer] = useState('X');\r\n\r\n  return (\r\n    <GameContext.Provider\r\n      value={{\r\n        squares: [squares, setSquares],\r\n        isX: [isX, setIsX],\r\n        winner: [winner, setWinner],\r\n        multiplayer: [multiplayer, setMultiplayer],\r\n        nextPlayer: [nextPlayer, setNextPlayer],\r\n      }}\r\n    >\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useState } from 'react';\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState('');\r\n  const [room, setRoom] = useState('');\r\n  const [player, setPlayer] = useState('');\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        user: [user, setUser],\r\n        room: [room, setRoom],\r\n        player: [player, setPlayer],\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useState } from 'react';\r\n\r\nexport const SocketContext = createContext();\r\n\r\nexport const SocketProvider = ({ children }) => {\r\n  const [socket, setSocket] = useState('');\r\n\r\n  return (\r\n    <SocketContext.Provider value={[socket, setSocket]}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext } from 'react';\r\n\r\nimport styles from './Square.module.css';\r\n\r\nimport { GameContext } from '../context/GameContext';\r\nimport { SocketContext } from '../context/SocketContext';\r\nimport { UserContext } from '../context/UserContext';\r\n\r\nexport default function Square({ value, id }) {\r\n  const {\r\n    squares: _squares,\r\n    isX: _isX,\r\n    multiplayer: _multiplayer,\r\n  } = useContext(GameContext);\r\n  const { player: _player } = useContext(UserContext);\r\n  const [squares, setSquares] = _squares;\r\n  const [isX, setIsX] = _isX;\r\n  const [player] = _player;\r\n  const [multiplayer] = _multiplayer;\r\n\r\n  const [socket] = useContext(SocketContext);\r\n\r\n  const handleClickSP = () => {\r\n    const newSquares = [...squares];\r\n\r\n    if (!newSquares[id]) {\r\n      newSquares[id] = isX ? 'X' : 'O';\r\n      setSquares(newSquares);\r\n      setIsX(!isX);\r\n    }\r\n  };\r\n\r\n  const handleClickMP = () => {\r\n    const newSquares = [...squares];\r\n\r\n    const canPlay =\r\n      !newSquares[id] && ((isX && player === 'X') || (!isX && player === 'O'));\r\n\r\n    if (canPlay) {\r\n      newSquares[id] = isX ? 'X' : 'O';\r\n\r\n      setSquares(newSquares);\r\n      setIsX(!isX);\r\n\r\n      socket.emit('userPlayed', { squares: newSquares, isX: !isX });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      id={`square_${id}`}\r\n      className={styles.square}\r\n      onClick={multiplayer ? handleClickMP : handleClickSP}\r\n      style={{\r\n        cursor:\r\n          !squares[id] && ((isX && player === 'X') || (!isX && player === 'O'))\r\n            ? 'pointer'\r\n            : 'not-allowed',\r\n        pointerEvents: !multiplayer\r\n          ? !squares[id] && isX\r\n            ? 'auto'\r\n            : 'none'\r\n          : squares[id]\r\n          ? 'none'\r\n          : 'auto',\r\n      }}\r\n    >\r\n      {value === 'O' ? (\r\n        <svg className={styles.svg} width='100' height='100'>\r\n          <circle\r\n            cx='50'\r\n            cy='50'\r\n            r='40'\r\n            stroke='#f44'\r\n            strokeWidth='10'\r\n            fill='none'\r\n          />\r\n        </svg>\r\n      ) : value === 'X' ? (\r\n        <svg className={styles.svg} width='100' height='100'>\r\n          <line\r\n            x1='10'\r\n            y1='10'\r\n            x2='90'\r\n            y2='90'\r\n            stroke='#f44'\r\n            strokeWidth='10'\r\n          />\r\n          <line\r\n            x1='90'\r\n            y1='10'\r\n            x2='10'\r\n            y2='90'\r\n            stroke='#f44'\r\n            strokeWidth='10'\r\n          />\r\n        </svg>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport styles from './Board.module.css';\r\nimport Square from './Square';\r\n\r\nexport default function Board({ squares }) {\r\n  return (\r\n    <div className={styles.board}>\r\n      {squares.map((val, index) => (\r\n        <Square value={val} id={index} key={index} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, createContext } from 'react';\r\n\r\nexport const HomeContext = createContext();\r\n\r\nexport const HomeProvider = ({ children }) => {\r\n  const [component, setComponent] = useState('ChooseMode');\r\n\r\n  return (\r\n    <HomeContext.Provider value={[component, setComponent]}>\r\n      {children}\r\n    </HomeContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport styles from './ChooseMode.module.css';\r\n\r\nimport { HomeContext } from '../context/HomeContext';\r\nimport { GameContext } from '../context/GameContext';\r\n\r\nexport default function ChooseMode() {\r\n  const setComponent = useContext(HomeContext)[1];\r\n  const { multiplayer: _mulitplayer } = useContext(GameContext);\r\n\r\n  const setMultiplayer = _mulitplayer[1];\r\n  return (\r\n    <div className={styles.container}>\r\n      <h2>Choose Mode</h2>\r\n      <div>\r\n        <Link to='/play'>\r\n          <button className={styles.button}>\r\n            <i className='fa fa-user' aria-hidden='true'></i> Single Player\r\n          </button>\r\n        </Link>\r\n        <button\r\n          className={styles.button}\r\n          onClick={() => {\r\n            setComponent('ChooseOpponent');\r\n            setMultiplayer(true);\r\n          }}\r\n        >\r\n          <i className='fa fa-users' aria-hidden='true'></i> Multiplayer\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport styles from \"./ChooseOpponent.module.css\";\r\n\r\nimport { HomeContext } from \"../context/HomeContext\";\r\nimport { UserContext } from \"../context/UserContext\";\r\n\r\nexport default function ChooseOpponent() {\r\n  const setComponent = useContext(HomeContext)[1];\r\n  const { room, player } = useContext(UserContext);\r\n  const [opponents, setOpponents] = useState([]);\r\n\r\n  const setRoom = room[1];\r\n  const setPlayer = player[1];\r\n\r\n  useEffect(() => {\r\n    const fetchOpponents = setInterval(() => {\r\n      fetch(\"/api/users\")\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          setOpponents(data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          clearInterval(fetchOpponents);\r\n        });\r\n    }, 1000);\r\n\r\n    return function () {\r\n      clearInterval(fetchOpponents);\r\n    };\r\n  }, []);\r\n\r\n  const handleClick = (room) => {\r\n    setRoom(room);\r\n    setPlayer(\"O\");\r\n    setComponent(\"ChooseUsername\");\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h2>Choose Opponent</h2>\r\n      <div className={styles.opponents_container}>\r\n        <button\r\n          className={styles.button}\r\n          onClick={() => setComponent(\"ChooseUsername\")}\r\n        >\r\n          <i className=\"fa fa-plus\" aria-hidden=\"true\"></i> New Opponent\r\n        </button>\r\n        <ul className={styles.opponents}>\r\n          {opponents.map(({ username, room }, index) => (\r\n            <li\r\n              key={index}\r\n              className={styles.opponent}\r\n              onClick={() => handleClick(room)}\r\n            >\r\n              {username}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport randomstring from 'randomstring';\r\n\r\nimport styles from './ChooseUsername.module.css';\r\n\r\nimport { UserContext } from '../context/UserContext';\r\nimport { HomeContext } from '../context/HomeContext';\r\n\r\nexport default function ChooseUsername() {\r\n  const { user: _user, room: _room, player: _player } = useContext(UserContext);\r\n  const setComponent = useContext(HomeContext)[1];\r\n  const [user, setUser] = _user;\r\n  const [player, setPlayer] = _player;\r\n  const [room, setRoom] = _room;\r\n  const [error, setError] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setUser(e.target.value);\r\n    setError('');\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!user) {\r\n      setError('Username is required');\r\n    } else if (user.length < 3) {\r\n      setError('Username is too short');\r\n    } else if (user.length > 10) {\r\n      setError('Username is too long');\r\n    } else if (/\\W/.test(user)) {\r\n      setError('Username contains invalid characters');\r\n    } else {\r\n      if (!room && !player) {\r\n        setRoom(`${user}${randomstring.generate(5)}`);\r\n        setPlayer('X');\r\n      }\r\n      setRedirect(true);\r\n    }\r\n  };\r\n\r\n  if (redirect) {\r\n    setComponent('ChooseMode');\r\n    return <Redirect to='/play' />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h2>Choose Username</h2>\r\n      <p>Enter a username to use in the game</p>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className={styles.form_group}>\r\n          <input\r\n            type='text'\r\n            value={user}\r\n            onChange={handleChange}\r\n            placeholder='Username'\r\n            style={{ border: error ? '2px solid #f44' : 'none' }}\r\n          />\r\n          <small>{error}</small>\r\n        </div>\r\n        <button className={styles.button} type='submit'>\r\n          <i className='fa fa-check-circle-o' aria-hidden='true'></i> Done\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './Header.module.css';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className={styles.header}>\r\n      <strong>\r\n        Tic-<span>Tac</span>-Toe\r\n      </strong>\r\n    </header>\r\n  );\r\n}\r\n","import React, { useState, createContext } from 'react';\r\n\r\nexport const MessagesContext = createContext();\r\n\r\nexport const MessagesProvider = ({ children }) => {\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  return (\r\n    <MessagesContext.Provider value={[messages, setMessages]}>\r\n      {children}\r\n    </MessagesContext.Provider>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport styles from './Message.module.css';\r\n\r\nexport default function Message({ text, sender, self }) {\r\n  return (\r\n    <div\r\n      className={\r\n        self\r\n          ? styles.message_container_sender\r\n          : styles.message_container_receiver\r\n      }\r\n    >\r\n      <div className={styles.message}>\r\n        <small>{!self ? sender : ''}</small>\r\n        <p style={{ marginRight: '25px' }}>{text}</p>\r\n        <small className={styles.time}>{moment().format('LT')}</small>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect } from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nimport { MessagesContext } from '../context/MessagesContext';\r\nimport { SocketContext } from '../context/SocketContext';\r\n\r\nimport styles from './Messages.module.css';\r\n\r\nimport Message from './Message';\r\nexport default function Messages({ typing, player }) {\r\n  const [messages, setMessages] = useContext(MessagesContext);\r\n  const [socket] = useContext(SocketContext);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on('newMessage', (message) => {\r\n        setMessages([...messages, message]);\r\n      });\r\n\r\n      socket.on('playAgain', (nextPlayer) => {\r\n        setMessages([\r\n          ...messages,\r\n          { text: 'New round', sender: '#GameBot' },\r\n          {\r\n            text:\r\n              nextPlayer === player\r\n                ? 'You start'\r\n                : `Player ${nextPlayer} starts`,\r\n            sender: '#GameBot',\r\n          },\r\n        ]);\r\n      });\r\n\r\n      socket.on('newChallenger', () => {\r\n        setMessages([\r\n          ...messages,\r\n          { text: 'A new challenger joined!', sender: '#GameBot' },\r\n          { text: 'Challenger starts', sender: '#GameBot' },\r\n        ]);\r\n      });\r\n    }\r\n  }, [messages]);\r\n  return (\r\n    <ScrollToBottom className={styles.messages}>\r\n      {messages.map((message, index) => (\r\n        <Message\r\n          text={message.text}\r\n          sender={message.sender}\r\n          time={message.time}\r\n          self={message.self}\r\n          key={index}\r\n        />\r\n      ))}\r\n      <p className={styles.typing}>{typing && 'typing...'}</p>\r\n    </ScrollToBottom>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Header from './Header';\r\n\r\nimport styles from './Container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return (\r\n    <div className={styles.container}>\r\n      <Header />\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nimport { SocketContext } from '../context/SocketContext';\r\n\r\nimport styles from './Feedback.module.css';\r\n\r\nexport default function Feedback({\r\n  winner,\r\n  setWinner,\r\n  player,\r\n  room,\r\n  nextPlayer,\r\n  multiplayer,\r\n  setSquares,\r\n  setIsX,\r\n}) {\r\n  const [socket] = useContext(SocketContext);\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const handlePlayAgain = () => {\r\n    if (multiplayer) {\r\n      socket.emit('playAgain', nextPlayer);\r\n    } else {\r\n      setSquares(Array(9).fill(null));\r\n      setIsX(nextPlayer === 'X' ? true : false);\r\n    }\r\n\r\n    setWinner('');\r\n  };\r\n\r\n  const handleExit = () => {\r\n    if (multiplayer) {\r\n      socket.emit('exitGame', room);\r\n    } else {\r\n      setRedirect(true);\r\n    }\r\n\r\n    setWinner('');\r\n  };\r\n\r\n  if (redirect) {\r\n    return <Redirect to='/' />;\r\n  }\r\n  return (\r\n    <div className={styles.container}>\r\n      <h2>\r\n        {player === winner\r\n          ? 'You win!'\r\n          : winner === 'tie'\r\n          ? 'It was a tie!'\r\n          : multiplayer\r\n          ? `Player ${winner} wins`\r\n          : 'You lose!'}\r\n      </h2>\r\n      <div>\r\n        <button className={styles.button} onClick={handlePlayAgain}>\r\n          <i className='fa fa-undo' aria-hidden='true'></i> Play again\r\n        </button>\r\n        <Link to='/'>\r\n          <button className={styles.button} onClick={handleExit}>\r\n            <i className='fa fa-times' aria-hidden='true'></i> Exit\r\n          </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport styles from './Exit.module.css';\r\n\r\nexport default function Exit({ player }) {\r\n  return (\r\n    <div className={styles.container}>\r\n      <h2>Player {player === 'X' ? 'O' : 'X'} left the game</h2>\r\n      <Link to='/'>\r\n        <button className={styles.button}>\r\n          <i className='fa fa-times' aria-hidden='true'></i> Exit\r\n        </button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { GameContext } from \"../context/GameContext\";\r\nimport { UserContext } from \"../context/UserContext\";\r\n\r\nimport {\r\n  Container,\r\n  ChooseMode,\r\n  ChooseOpponent,\r\n  ChooseUsername,\r\n} from \"../components\";\r\nimport styles from \"./HomeScreen.module.css\";\r\n\r\nimport { HomeContext } from \"../context/HomeContext\";\r\n\r\nexport default function HomeScreen() {\r\n  const [component] = useContext(HomeContext);\r\n  const {\r\n    squares: _squares,\r\n    winner: _winner,\r\n    isX: _isX,\r\n    multiplayer: _multiplayer,\r\n    nextPlayer: _nextPlayer,\r\n  } = useContext(GameContext);\r\n  const { user: _user, room: _room, player: _player } = useContext(UserContext);\r\n\r\n  const setSquares = _squares[1];\r\n  const setWinner = _winner[1];\r\n  const setIsX = _isX[1];\r\n  const setMultiplayer = _multiplayer[1];\r\n  const setNextPlayer = _nextPlayer[1];\r\n  const setUser = _user[1];\r\n  const setRoom = _room[1];\r\n  const setPlayer = _player[1];\r\n\r\n  useEffect(() => {\r\n    setSquares(Array(9).fill(null));\r\n    setWinner(\"\");\r\n    setIsX(false);\r\n    setMultiplayer(false);\r\n    setNextPlayer(\"X\");\r\n    setUser(\"\");\r\n    setRoom(\"\");\r\n    setPlayer(\"\");\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <Container>\r\n        {component === \"ChooseMode\" ? (\r\n          <ChooseMode />\r\n        ) : component === \"ChooseOpponent\" ? (\r\n          <ChooseOpponent />\r\n        ) : component === \"ChooseUsername\" ? (\r\n          <ChooseUsername />\r\n        ) : (\r\n          <p> An error occured! </p>\r\n        )}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport { Howl } from \"howler\";\r\n\r\nimport styles from \"./PlayScreen.module.css\";\r\nimport { Container, Board, Messages, Feedback, Exit } from \"../components\";\r\n\r\nimport { GameContext } from \"../context/GameContext\";\r\nimport { SocketContext } from \"../context/SocketContext\";\r\nimport { MessagesContext } from \"../context/MessagesContext\";\r\nimport { UserContext } from \"../context/UserContext\";\r\n\r\nimport { getWinner, computer } from \"../utils/helper\";\r\n\r\nconst notify = new Howl({\r\n  src: [\"notify.mp3\"],\r\n});\r\n\r\nexport default function PlayScreen() {\r\n  const {\r\n    squares: _squares,\r\n    winner: _winner,\r\n    isX: _isX,\r\n    multiplayer: _multiplayer,\r\n    nextPlayer: _nextPlayer,\r\n  } = useContext(GameContext);\r\n\r\n  const { user: _user, room: _room, player: _player } = useContext(UserContext);\r\n\r\n  const [user] = _user;\r\n  const [room] = _room;\r\n  const [player, setPlayer] = _player;\r\n  const [nextPlayer, setNextPlayer] = _nextPlayer;\r\n\r\n  const [socket, setSocket] = useContext(SocketContext);\r\n  const [squares, setSquares] = _squares;\r\n  const [winner, setWinner] = _winner;\r\n  const [isX, setIsX] = _isX;\r\n  const [multiplayer] = _multiplayer;\r\n  const [messages, setMessages] = useContext(MessagesContext);\r\n  const [exit, setExit] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n  const [typing, setTyping] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!multiplayer) {\r\n      setPlayer(\"X\");\r\n      setIsX(true);\r\n    } else {\r\n      const _socket = io.connect();\r\n      _socket.emit(\"joinRoom\", {\r\n        user,\r\n        room,\r\n      });\r\n\r\n      setSocket(_socket);\r\n\r\n      _socket.on(\"userPlayed\", ({ squares, isX }) => {\r\n        setSquares(squares);\r\n        setIsX(isX);\r\n      });\r\n\r\n      _socket.on(\"typing\", () => setTyping(true));\r\n      _socket.on(\"notTyping\", () => setTyping(false));\r\n\r\n      _socket.on(\"playAgain\", (nextPlayer) => {\r\n        setNextPlayer(nextPlayer === \"X\" ? \"O\" : \"X\");\r\n        setSquares(Array(9).fill(null));\r\n        setWinner(\"\");\r\n      });\r\n\r\n      _socket.on(\"newChallenger\", () => {\r\n        console.log(\"new challenger\");\r\n        notify.play();\r\n        setSquares(Array(9).fill(null));\r\n        setExit(false);\r\n      });\r\n\r\n      _socket.on(\"newMessage\", () => {\r\n        console.log(\"new message\");\r\n        notify.play();\r\n      });\r\n\r\n      _socket.on(\"exitGame\", () => {\r\n        setExit(true);\r\n      });\r\n\r\n      if (player === \"X\") {\r\n        setMessages([\r\n          {\r\n            text: `Welcome to the game ${user}...`,\r\n            sender: \"#GameBot\",\r\n          },\r\n          {\r\n            text: `You are player X`,\r\n            sender: \"#GameBot\",\r\n          },\r\n          {\r\n            text: `Challenger will join soon`,\r\n            sender: \"#GameBot\",\r\n          },\r\n        ]);\r\n      } else {\r\n        setMessages([\r\n          {\r\n            text: `Welcome to the game ${user}...`,\r\n            sender: \"#GameBot\",\r\n          },\r\n          {\r\n            text: \"You are player O\",\r\n            sender: \"#GameBot\",\r\n          },\r\n          {\r\n            text: \"Start\",\r\n            sender: \"#GameBot\",\r\n          },\r\n        ]);\r\n\r\n        _socket.emit(\"newChallenger\");\r\n      }\r\n\r\n      return function () {\r\n        multiplayer && _socket.disconnect();\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const winner = getWinner(squares);\r\n\r\n    if (winner) {\r\n      setWinner(winner);\r\n      !multiplayer && setNextPlayer(nextPlayer === \"X\" ? \"O\" : \"X\");\r\n    } else if (!multiplayer && !isX && player === \"X\") {\r\n      computer(squares);\r\n    }\r\n  }, [squares]);\r\n\r\n  const handleOnChange = (e) => {\r\n    setText(e.target.value);\r\n    socket.emit(\"typing\");\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setMessages([\r\n      ...messages,\r\n      {\r\n        text,\r\n        sender: user,\r\n        self: true,\r\n      },\r\n    ]);\r\n    setText(\"\");\r\n\r\n    socket.emit(\"newMessage\", {\r\n      text,\r\n      sender: user,\r\n    });\r\n    socket.emit(\"notTyping\");\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <Container>\r\n        <div className={styles.play_container}>\r\n          <div\r\n            className={`${styles.playground} ${styles.playground_sm}`}\r\n            style={{ borderBottom: multiplayer ? \"inherit\" : \"none\" }}\r\n          >\r\n            {exit ? (\r\n              <Exit player={player} />\r\n            ) : winner ? (\r\n              <Feedback\r\n                winner={winner}\r\n                setWinner={setWinner}\r\n                player={player}\r\n                room={room}\r\n                nextPlayer={nextPlayer}\r\n                multiplayer={multiplayer}\r\n                setSquares={setSquares}\r\n                setIsX={setIsX}\r\n              />\r\n            ) : (\r\n              <Board squares={squares} />\r\n            )}\r\n          </div>\r\n\r\n          {multiplayer && (\r\n            <div className={styles.messaging}>\r\n              <Messages typing={typing} player={player} />\r\n              <form className={styles.form} onSubmit={handleSubmit}>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Type message\"\r\n                  value={text}\r\n                  onChange={handleOnChange}\r\n                  onBlur={() => socket.emit(\"notTyping\")}\r\n                />\r\n              </form>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","export function getWinner(squares) {\r\n  const winningMoves = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n  for (let i = 0; i < winningMoves.length; i++) {\r\n    const [a, b, c] = winningMoves[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      return squares[a];\r\n    }\r\n  }\r\n  return squares.indexOf(null) === -1 ? 'tie' : null;\r\n}\r\n\r\nexport function computer(squares) {\r\n  const winningMoves = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n\r\n  //get indexes of null squares\r\n  const nullSquares = [];\r\n  squares.forEach((square, index) => {\r\n    if (!square) {\r\n      nullSquares.push(index);\r\n    }\r\n  });\r\n\r\n  const randomSquare =\r\n    nullSquares[Math.floor(Math.random() * nullSquares.length)];\r\n\r\n  for (let i = 0; i < winningMoves.length; i++) {\r\n    const [a, b, c] = winningMoves[i];\r\n\r\n    //This is a chance for the computer to win\r\n    const winningCounter = squares.filter((square, index) => {\r\n      if (square === 'O' && (index === a || index === b || index === c)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n    //This is a chance for the opponent to win\r\n    const opponentCounter = squares.filter((square, index) => {\r\n      if (square === 'X' && (index === a || index === b || index === c)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n    //Handle event for computer to win\r\n    if (\r\n      winningCounter.length > 1 &&\r\n      (!squares[a] || !squares[b] || !squares[c])\r\n    ) {\r\n      if (!squares[a]) {\r\n        setTimeout(() => {\r\n          document.getElementById(`square_${a}`).click();\r\n        }, 1000);\r\n      } else if (!squares[b]) {\r\n        setTimeout(() => {\r\n          document.getElementById(`square_${b}`).click();\r\n        }, 1000);\r\n      } else {\r\n        setTimeout(() => {\r\n          document.getElementById(`square_${c}`).click();\r\n        }, 1000);\r\n      }\r\n      return;\r\n\r\n      //Handle event for counter openent\r\n    } else if (\r\n      opponentCounter.length > 1 &&\r\n      (!squares[a] || !squares[b] || !squares[c])\r\n    ) {\r\n      if (!squares[a]) {\r\n        setTimeout(() => {\r\n          document.getElementById(`square_${a}`).click();\r\n        }, 1000);\r\n      } else if (!squares[b]) {\r\n        setTimeout(() => {\r\n          document.getElementById(`square_${b}`).click();\r\n        }, 1000);\r\n      } else {\r\n        setTimeout(() => {\r\n          document.getElementById(`square_${c}`).click();\r\n        }, 1000);\r\n      }\r\n      return;\r\n    }\r\n  }\r\n\r\n  setTimeout(() => {\r\n    squares[4]\r\n      ? document.getElementById(`square_${randomSquare}`).click()\r\n      : document.getElementById('square_4').click();\r\n  }, 500);\r\n}\r\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { HomeScreen, PlayScreen } from './screens';\nimport { HomeProvider } from './context/HomeContext';\nimport { GameProvider } from './context/GameContext';\nimport { SocketProvider } from './context/SocketContext';\nimport { MessagesProvider } from './context/MessagesContext';\nimport { UserProvider } from './context/UserContext';\n\nexport default function App() {\n  return (\n    <Router>\n      <UserProvider>\n        <GameProvider>\n          <HomeProvider>\n            <Route component={HomeScreen} exact path='/' />\n          </HomeProvider>\n          <MessagesProvider>\n            <SocketProvider>\n              <Route component={PlayScreen} exact path='/play' />\n            </SocketProvider>\n          </MessagesProvider>\n        </GameProvider>\n      </UserProvider>\n    </Router>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_container_sender\":\"Message_message_container_sender__-ai3E\",\"message\":\"Message_message__3gOx4\",\"message_container_receiver\":\"Message_message_container_receiver__2CHhc\",\"time\":\"Message_time__wM_Ne\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"square\":\"Square_square__2DYQy\",\"svg\":\"Square_svg__1WQuS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ChooseMode_container__RZcup\",\"button\":\"ChooseMode_button__17Vho\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ChooseUsername_container__EEv5_\",\"button\":\"ChooseUsername_button__5H6E3\",\"form_group\":\"ChooseUsername_form_group__2zuNq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Feedback_container__3YNfg\",\"button\":\"Feedback_button__1ye4_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__2lUBQ\",\"typing\":\"Messages_typing__2ofrZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Exit_container__-vJcU\",\"button\":\"Exit_button__2oCLv\"};"],"sourceRoot":""}